<ContentDialog
    x:Class="AIDevGallery.Controls.WizardDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    PrimaryButtonText="Next"
    SecondaryButtonText="Back"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick"
    SecondaryButtonClick="ContentDialog_SecondaryButtonClick"
    AutomationProperties.Name="Create evaluation wizard"
    AutomationProperties.LiveSetting="Polite">
    
    <ContentDialog.Resources>
        <ResourceDictionary Source="ms-appx:///Styles/Colors.xaml"/>
    </ContentDialog.Resources>
    
    <Grid MinWidth="500" MaxWidth="650" MinHeight="500">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Progress Header following existing system patterns -->
        <Border Grid.Row="0" 
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" 
                BorderThickness="0,0,0,1" 
                Padding="24,16">
            <StackPanel Spacing="8">
                <TextBlock x:Name="StepTitleText" 
                           Text="Create New Evaluation" 
                           Style="{StaticResource SubtitleTextBlockStyle}"
                           AutomationProperties.HeadingLevel="Level2"/>
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <ProgressBar x:Name="WizardProgressBar" 
                                 Value="1" 
                                 Maximum="5" 
                                 Width="200" 
                                 Height="4"
                                 AutomationProperties.Name="Wizard progress"/>
                    <TextBlock x:Name="StepProgressText" 
                               Text="Step 1 of 5" 
                               Style="{StaticResource CaptionTextBlockStyle}" 
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               AutomationProperties.LiveSetting="Polite"/>
                </StackPanel>
            </StackPanel>
        </Border>
        
        <!-- Content Frame with Loading Overlay -->
        <Grid Grid.Row="1">
            <Frame x:Name="ContentFrame"/>
            
            <!-- Validation Error Bar -->
            <InfoBar x:Name="ValidationErrorBar"
                     Severity="Error"
                     IsOpen="False"
                     VerticalAlignment="Top"
                     Margin="16"
                     AutomationProperties.LiveSetting="Assertive"/>
        </Grid>
    </Grid>
</ContentDialog>